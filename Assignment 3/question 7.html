<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assign 3.7</title>
</head>
<body>
    <h1>Assignment 3.7</h1>
    The given array is <br>
    <p id="result"></p>
    <input type="checkbox" name="mapreduce" id="mapreduce" onchange="arrayMapReduce()"> Use MapReduce
    <script>
        const students = [
            { name: "Ram", scores: [80, 70, 60] },
            { name: "Mohan", scores: [80, 70, 90] },
            { name: "Sai", scores: [60, 70, 80] },
            { name: "Hemang", scores: [90, 90, 80, 80] },
        ];

        function arrayMapReduce() {
            let displayText = '';
            if (document.getElementById("mapreduce").checked) {
                const result = students.map(student => {
                    const total = student.scores.reduce((acc, score) => acc + score, 0);
                    const average = total / student.scores.length;
                    return {
                        name: student.name,
                        average: Math.round(average)
                    };
                });
                result.forEach(student => {
                    displayText += '{Name: "' + student.name + '", average: ' + student.average + '}<br>';
                });
            } else {
                students.forEach(student => {
                    displayText += '{Name: "' + student.name + '", scores: [' + student.scores.join(', ') + ']}<br>';
                });
            }
            document.getElementById("result").innerHTML = displayText;
        }
        arrayMapReduce();
    </script>
</body>
</html>
